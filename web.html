<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript">
      //
      // start here
      //
      function main() {
        const canvas = document.querySelector("#glCanvas");
        // Initialize the GL context
        const gl = canvas.getContext("webgl");

        // Only continue if WebGL is available and working
        if (gl === null) {
          alert("Unable to initialize WebGL. Your browser or machine may not support it.");
          return;
        }

        // Set clear color to black, fully opaque
        gl.clearColor(Math.random(), Math.random(), Math.random(), 1.0);
        // Clear the color buffer with specified clear color
        gl.clear(gl.COLOR_BUFFER_BIT);
      }

      function httpGetAsync(theUrl, callback) {
          var xmlHttp = new XMLHttpRequest();
          xmlHttp.onreadystatechange = function() {
              if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                  callback(xmlHttp.responseText);

          xmlHttp.open("GET", theUrl, true);
          xmlHttp.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");
          xmlHttp.setRequestHeader("Access-Control-Allow-Origin", "*");
          xmlHttp.send(null);
      }

      function updateTheCanvas() {
        const canvas = document.querySelector("#glCanvas");
        const gl = canvas.getContext("webgl");

        gl.clearColor(Math.random(), Math.random(), Math.random(), 1.0);
        gl.clear(gl.COLOR_BUFFER_BIT);
      }

      function iterate() {

        updateTheCanvas()
      }

      window.onload = main;
      window.setInterval(iterate, 1000)

    </script>
  </head>
  <body>
    <canvas id="glCanvas" width="640" height="480"></canvas>
  </body>
</html>
